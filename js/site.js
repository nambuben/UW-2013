function onYouTubePlayerReady(e){uwplayer=document.getElementById("customplayer")}function play(e){uwplayer.loadVideoById(e)}(function(e,t,n){e.fn.tinyNav=function(r){var s=e.extend({active:"selected",header:"",label:""},r);return this.each(function(){n++;var r=e(this),o="tinynav",u=o+n,a=".l_"+u,f=e("<select/>").attr("id",u).addClass(o+" "+u);if(r.is("ul,ol")){s.header!==""&&f.append(e("<option/>").text(s.header));var l="";r.addClass("l_"+u).find("a").each(function(){l+='<option value="'+e(this).attr("href")+'">';var t;for(t=0;t<e(this).parents("ul, ol").length-1;t++)l+="- ";l+=e(this).text()+"</option>"});f.append(l);s.header||f.find(":eq("+e(a+" li").index(e(a+" li."+s.active))+")").attr("selected",!0);f.change(function(){t.location.href=e(this).val()});e("#primary").before(f);e(f).wrap('<div class="mobile-select" />');s.label&&f.before(e("<label/>").attr("for",u).addClass(o+"_label "+u+"_label").append(s.label))}})}})(jQuery,this,0);(function(e){function t(t,n){function g(){r.update();b();return r}function y(){var e=h.toLowerCase();f.obj.css(c,p/u.ratio);o.obj.css(c,-p);v.start=f.obj.offset()[c];u.obj.css(e,a[n.axis]);a.obj.css(e,a[n.axis]);f.obj.css(e,f[n.axis])}function b(){if(!m){f.obj.bind("mousedown",w);a.obj.bind("mouseup",S)}else s.obj[0].ontouchstart=function(e){if(1===e.touches.length){w(e.touches[0]);e.stopPropagation()}};if(n.scroll&&window.addEventListener){i[0].addEventListener("DOMMouseScroll",E,!1);i[0].addEventListener("mousewheel",E,!1);i[0].addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)}else n.scroll&&(i[0].onmousewheel=E)}function w(t){e("body").addClass("noSelect");var n=parseInt(f.obj.css(c),10);v.start=l?t.pageX:t.pageY;d.start=n=="auto"?0:n;if(!m){e(document).bind("mousemove",S);e(document).bind("mouseup",x);f.obj.bind("mouseup",x)}else{document.ontouchmove=function(e){e.preventDefault();S(e.touches[0])};document.ontouchend=x}}function E(t){if(o.ratio<1){var r=t||window.event,i=r.wheelDelta?r.wheelDelta/120:-r.detail/3;p-=i*n.wheel;p=Math.min(o[n.axis]-s[n.axis],Math.max(0,p));f.obj.css(c,p/u.ratio);o.obj.css(c,-p);if(n.lockscroll||p!==o[n.axis]-s[n.axis]&&p!==0){r=e.event.fix(r);r.preventDefault()}}}function S(e){if(o.ratio<1){n.invertscroll&&m?d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+(v.start-(l?e.pageX:e.pageY)))):d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+((l?e.pageX:e.pageY)-v.start)));p=d.now*u.ratio;o.obj.css(c,-p);f.obj.css(c,d.now)}}function x(){e("body").removeClass("noSelect");e(document).unbind("mousemove",S);e(document).unbind("mouseup",x);f.obj.unbind("mouseup",x);document.ontouchmove=document.ontouchend=null}var r=this,i=t,s={obj:e(".viewport",t)},o={obj:e(".overview",t)},u={obj:e(".scrollbar",t)},a={obj:e(".track",u.obj)},f={obj:e(".thumb",u.obj)},l=n.axis==="x",c=l?"left":"top",h=l?"Width":"Height",p=0,d={start:0,now:0},v={},m="ontouchstart"in document.documentElement;this.update=function(e){s[n.axis]=s.obj[0]["offset"+h];o[n.axis]=o.obj[0]["scroll"+h];o.ratio=s[n.axis]/o[n.axis];u.obj.toggleClass("disable",o.ratio>=1);a[n.axis]=n.size==="auto"?s[n.axis]:n.size;f[n.axis]=Math.min(a[n.axis],Math.max(0,n.sizethumb==="auto"?a[n.axis]*o.ratio:n.sizethumb));u.ratio=n.sizethumb==="auto"?o[n.axis]/a[n.axis]:(o[n.axis]-s[n.axis])/(a[n.axis]-f[n.axis]);p=e==="relative"&&o.ratio<=1?Math.min(o[n.axis]-s[n.axis],Math.max(0,p)):0;p=e==="bottom"&&o.ratio<=1?o[n.axis]-s[n.axis]:isNaN(parseInt(e,10))?p:parseInt(e,10);y()};return g()}e.tiny=e.tiny||{};e.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}};e.fn.tinyscrollbar=function(n){var r=e.extend({},e.tiny.scrollbar.options,n);this.each(function(){e(this).data("tsb",new t(e(this),r))});return this};e.fn.tinyscrollbar_update=function(t){return e(this).data("tsb").update(t)}})(jQuery);(function(){"use strict";function e(){}function n(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}var t=e.prototype;t.getListeners=function(t){var n=this._getEvents(),r,i;if(typeof t=="object"){r={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(r[i]=n[i])}else r=n[t]||(n[t]=[]);return r};t.flattenListeners=function(t){var n=[],r;for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n};t.getListenersAsObject=function(t){var n=this.getListeners(t),r;if(n instanceof Array){r={};r[t]=n}return r||n};t.addListener=function(t,r){var i=this.getListenersAsObject(t),s=typeof r=="object",o;for(o in i)i.hasOwnProperty(o)&&n(i[o],r)===-1&&i[o].push(s?r:{listener:r,once:!1});return this};t.on=t.addListener;t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})};t.once=t.addOnceListener;t.defineEvent=function(t){this.getListeners(t);return this};t.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this};t.removeListener=function(t,r){var i=this.getListenersAsObject(t),s,o;for(o in i)if(i.hasOwnProperty(o)){s=n(i[o],r);s!==-1&&i[o].splice(s,1)}return this};t.off=t.removeListener;t.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)};t.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)};t.manipulateListeners=function(t,n,r){var i,s,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if(typeof n!="object"||n instanceof RegExp){i=r.length;while(i--)o.call(this,n,r[i])}else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&(typeof s=="function"?o.call(this,i,s):u.call(this,i,s));return this};t.removeEvent=function(t){var n=typeof t,r=this._getEvents(),i;if(n==="string")delete r[t];else if(n==="object")for(i in r)r.hasOwnProperty(i)&&t.test(i)&&delete r[i];else delete this._events;return this};t.emitEvent=function(t,n){var r=this.getListenersAsObject(t),i,s,o,u;for(o in r)if(r.hasOwnProperty(o)){s=r[o].length;while(s--){i=r[o][s];u=i.listener.apply(this,n||[]);(u===this._getOnceReturnValue()||i.once===!0)&&this.removeListener(t,r[o][s].listener)}}return this};t.trigger=t.emitEvent;t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)};t.setOnceReturnValue=function(t){this._onceReturnValue=t;return this};t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};t._getEvents=function(){return this._events||(this._events={})};typeof define=="function"&&define.amd?define(function(){return e}):typeof module!="undefined"&&module.exports?module.exports=e:this.EventEmitter=e}).call(this);(function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,r){t[n+r]=r.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement;r.handleEvent.call(r,t)}:function(){var n=e.event;n.target=n.target||n.srcElement;r.call(t,n)};t.attachEvent("on"+n,t[n+r])});var r=function(){};t.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var i={bind:n,unbind:r};typeof define=="function"&&define.amd?define(i):e.eventie=i})(this);(function(e){"use strict";function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e){return s.call(e)==="[object Array]"}function u(e){var t=[];if(o(e))t=e;else if(typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function a(e,s){function o(e,n,r){if(!(this instanceof o))return new o(e,n);typeof e=="string"&&(e=document.querySelectorAll(e));this.elements=u(e);this.options=i({},this.options);typeof n=="function"?r=n:i(this.options,n);r&&this.on("always",r);this.getImages();t&&(this.jqDeferred=new t.Deferred);var s=this;setTimeout(function(){s.check()})}function f(e){this.img=e}o.prototype=new e;o.prototype.options={};o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var n=this.elements[e];n.nodeName==="IMG"&&this.addImage(n);var r=n.querySelectorAll("img");for(var i=0,s=r.length;i<s;i++){var o=r[i];this.addImage(o)}}};o.prototype.addImage=function(e){var t=new f(e);this.images.push(t)};o.prototype.check=function(){function s(s,o){e.options.debug&&r&&n.log("confirm",s,o);e.progress(s);t++;t===i&&e.complete();return!0}var e=this,t=0,i=this.images.length;this.hasAnyBroken=!1;if(!i){this.complete();return}for(var o=0;o<i;o++){var u=this.images[o];u.on("confirm",s);u.check()}};o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e);t.jqDeferred&&t.jqDeferred.notify(t,e)})};o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){t.emit(e,t);t.emit("always",t);if(t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})};t&&(t.fn.imagesLoaded=function(e,n){var r=new o(this,e,n);return r.jqDeferred.promise(t(this))});var a={};f.prototype=new e;f.prototype.check=function(){var e=a[this.img.src];if(e){this.useCached(e);return}a[this.img.src]=this;if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var t=this.proxyImage=new Image;s.bind(t,"load",this);s.bind(t,"error",this);t.src=this.img.src};f.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){t.confirm(e.isLoaded,"cache emitted confirmed");return!0})}};f.prototype.confirm=function(e,t){this.isConfirmed=!0;this.isLoaded=e;this.emit("confirm",this,t)};f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)};f.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()};f.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindProxyEvents()};f.prototype.unbindProxyEvents=function(){s.unbind(this.proxyImage,"load",this);s.unbind(this.proxyImage,"error",this)};return o}var t=e.jQuery,n=e.console,r=typeof n!="undefined",s=Object.prototype.toString;typeof define=="function"&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):e.imagesLoaded=a(e.EventEmitter,e.eventie)})(window);(function(e){function r(e){if(e in t.style)return e;var n=["Moz","Webkit","O","ms"],r=e.charAt(0).toUpperCase()+e.substr(1);if(e in t.style)return e;for(var i=0;i<n.length;++i){var s=n[i]+r;if(s in t.style)return s}}function i(){t.style[n.transform]="";t.style[n.transform]="rotateY(90deg)";return t.style[n.transform]!==""}function f(e){typeof e=="string"&&this.parse(e);return this}function l(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function c(t){var n=[];e.each(t,function(t){t=e.camelCase(t);t=e.transit.propertyMap[t]||e.cssProps[t]||t;t=d(t);e.inArray(t,n)===-1&&n.push(t)});return n}function h(t,n,r,i){var s=c(t);e.cssEase[r]&&(r=e.cssEase[r]);var o=""+m(n)+" "+r;parseInt(i,10)>0&&(o+=" "+m(i));var u=[];e.each(s,function(e,t){u.push(t+" "+o)});return u.join(", ")}function p(t,r){r||(e.cssNumber[t]=!0);e.transit.propertyMap[t]=n.transform;e.cssHooks[t]={get:function(n){var r=e(n).css("transit:transform");return r.get(t)},set:function(n,r){var i=e(n).css("transit:transform");i.setFromString(t,r);e(n).css({"transit:transform":i})}}}function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function v(e,t){return typeof e=="string"&&!e.match(/^[\-0-9\.]+$/)?e:""+e+t}function m(t){var n=t;e.fx.speeds[n]&&(n=e.fx.speeds[n]);return v(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var t=document.createElement("div"),n={},s=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=r("transition");n.transitionDelay=r("transitionDelay");n.transform=r("transform");n.transformOrigin=r("transformOrigin");n.transform3d=i();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},u=n.transitionEnd=o[n.transition]||null;for(var a in n)n.hasOwnProperty(a)&&typeof e.support[a]=="undefined"&&(e.support[a]=n[a]);t=null;e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new f},set:function(t,r){var i=r;i instanceof f||(i=new f(i));n.transform==="WebkitTransform"&&!s?t.style[n.transform]=i.toString(!0):t.style[n.transform]=i.toString();e(t).data("transform",i)}};e.cssHooks.transform={set:e.cssHooks["transit:transform"].set};if(e.fn.jquery<"1.8"){e.cssHooks.transformOrigin={get:function(e){return e.style[n.transformOrigin]},set:function(e,t){e.style[n.transformOrigin]=t}};e.cssHooks.transition={get:function(e){return e.style[n.transition]},set:function(e,t){e.style[n.transition]=t}}}p("scale");p("translate");p("rotate");p("rotateX");p("rotateY");p("rotate3d");p("perspective");p("skewX");p("skewY");p("x",!0);p("y",!0);f.prototype={setFromString:function(e,t){var n=typeof t=="string"?t.split(","):t.constructor===Array?t:[t];n.unshift(e);f.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=v(e,"deg")},rotateX:function(e){this.rotateX=v(e,"deg")},rotateY:function(e){this.rotateY=v(e,"deg")},scale:function(e,t){t===undefined&&(t=e);this.scale=e+","+t},skewX:function(e){this.skewX=v(e,"deg")},skewY:function(e){this.skewY=v(e,"deg")},perspective:function(e){this.perspective=v(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){this._translateX===undefined&&(this._translateX=0);this._translateY===undefined&&(this._translateY=0);e!==null&&e!==undefined&&(this._translateX=v(e,"px"));t!==null&&t!==undefined&&(this._translateY=v(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");e[0]&&(e[0]=parseFloat(e[0]));e[1]&&(e[1]=parseFloat(e[1]));return e[0]===e[1]?e[0]:e},rotate3d:function(){var e=(this.rotate3d||"0,0,0,0deg").split(",");for(var t=0;t<=3;++t)e[t]&&(e[t]=parseFloat(e[t]));e[3]&&(e[3]=v(e[3],"deg"));return e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[];for(var r in this)if(this.hasOwnProperty(r)){if(!n.transform3d&&(r==="rotateX"||r==="rotateY"||r==="perspective"||r==="transformOrigin"))continue;r[0]!=="_"&&(e&&r==="scale"?t.push(r+"3d("+this[r]+",1)"):e&&r==="translate"?t.push(r+"3d("+this[r]+",0)"):t.push(r+"("+this[r]+")"))}return t.join(" ")}};e.fn.transition=e.fn.transit=function(t,r,i,s){var o=this,a=0,f=!0;if(typeof r=="function"){s=r;r=undefined}if(typeof i=="function"){s=i;i=undefined}if(typeof t.easing!="undefined"){i=t.easing;delete t.easing}if(typeof t.duration!="undefined"){r=t.duration;delete t.duration}if(typeof t.complete!="undefined"){s=t.complete;delete t.complete}if(typeof t.queue!="undefined"){f=t.queue;delete t.queue}if(typeof t.delay!="undefined"){a=t.delay;delete t.delay}typeof r=="undefined"&&(r=e.fx.speeds._default);typeof i=="undefined"&&(i=e.cssEase._default);r=m(r);var c=h(t,r,i,a),p=e.transit.enabled&&n.transition,d=p?parseInt(r,10)+parseInt(a,10):0;if(d===0){var v=function(e){o.css(t);s&&s.apply(o);e&&e()};l(o,f,v);return o}var g={},y=function(r){var i=!1,a=function(){i&&o.unbind(u,a);d>0&&o.each(function(){this.style[n.transition]=g[this]||null});typeof s=="function"&&s.apply(o);typeof r=="function"&&r()};if(d>0&&u&&e.transit.useTransitionEnd){i=!0;o.bind(u,a)}else window.setTimeout(a,d);o.each(function(){d>0&&(this.style[n.transition]=c);e(this).css(t)})},b=function(e){this.offsetWidth;y(e)};l(o,f,b);return this};e.transit.getTransitionValue=h})(jQuery);$(document).ready(function(){$.uw={};$(window).resize(function(){$.uw.screensize=$(window).width()>768?"desktop":"mobile"}).trigger("resize");$("table").addClass("table")});$(document).ready(function(){var e={number:1,type:"post",status:"publish"},t=window.location.hash.indexOf("uwalert")===-1?"https://www.washington.edu/static/UW-Alert-Banner/alert/?c=?":"https://www.washington.edu/static/UW-Alert-Banner/alert/?test=true&c=?";$.getJSON(t,e,function(e){if(!e||e.found<1)return;var t=e.posts[0],n=t.categories,r=[],i="",s=["red","orange","blue","steel"];$.each(n,function(e,t){r+="|"+t.slug});for(var o=0;o<s.length;o+=1)r.indexOf(s[o])!=-1&&(i="uwalert-"+s[o].toLowerCase());window.location.hash.indexOf("alert")!=-1&&(i=window.location.hash.replace("#",""));if(i.length===0)return!1;var u=$("<a/>").attr({href:"http://emergency.uw.edu",title:t.title}).html("More info"),a=$(t.excerpt).find("a").remove().end().append(u).prop("outerHTML"),f=$('<div id="uwalert-alert-message" class="'+i+'" />').html("<div><h1>"+t.title+"</h1>"+a+"</div>"),l=$("body").hasClass("admin-bar")?$("#wpadminbar").height():0;$("body").prepend(f).data("alert-height",$("#uwalert-alert-message").outerHeight()+l);var c=$('<a id="alert-mini" class="hidden-phone"/>').attr({href:"#",title:t.title}).click(function(){$("body").data("scrolling",!0).animate({scrollTop:0},{duration:500,easing:"swing",complete:function(){$("body").data("scrolling",!1)}});$(this).slideUp();return!1}).html("Campus Alert: "+t.title).addClass(i);$("body").append(c).addClass("uw-alert")})});$(document).ready(function(){var e={q:"http://www.atmos.washington.edu/rss/home.rss",v:"2.0"};$.ajax({url:"https://ajax.googleapis.com/ajax/services/feed/load?callback=?",dataType:"jsonp",data:e,success:function(e){var t=$.trim(e.responseData.feed.entries[2].title.split("|")[1]),n=$.trim(e.responseData.feed.entries[1].title.split("|")[1]),r=$.trim(e.responseData.feed.entries[0].title.split("|")[1]),i='<li class="header-weather"><a href="http://www.atmos.washington.edu/weather/forecast/" title="Forecast is '+n+'">';i+='<img src="//uw.edu/news/wp-content/themes/uw/img/weather/top-nav/'+t+'.png" alt="Forecast is '+n+'"/>';i+="</a></li>";i+='<li class="header-forcast"><a href="http://www.atmos.washington.edu/weather/forecast/">';i+="Seattle "+r;i+="</a></li>";$("#thin-strip").find("ul").append(i)}})});$(document).ready(function(){var e=$("#thin-strip"),t=e.clone().removeAttr("style").addClass("thin-fixed"),n=$("#search form"),r=$(window),i=$("body");i.append(t.hide());t.data("otop",i.hasClass("top"));r.bind("scroll",function(){var e=$(this).scrollTop(),n=i.hasClass("admin-bar")?28:0,r=i.data("alert-height")||n,s=$("#alert-mini");if($(this).width()<768)return!1;if(e<180+r){t.css("top",-28).hide().data("showing",!1);s.hide()}e>220+r&&!t.data("showing")&&t.show().animate({top:t.data("otop")+n},{duration:300,easing:"swing"}).data("showing",!0);if(s.length!=0&&!i.data("scrolling")){e<300+r&&s.slideUp();e>330+r&&s.slideDown()}})});$(document).ready(function(){var e=$("#dawgdrops"),t=$("ul.dawgdrops-menu"),n=$("<span/>").addClass("navbar-caret"),r="li.dawgdrops-item",i="a.dropdown-toggle",s="ul.dawgdrops-menu",o='<div class="menu-wrap"><div class="inner-wrap"></div></div>',u='<div class="menu-block"/>',a=7,f=980,l=20,c=100;e.find("ul").first().before(n);t.each(function(){var e=$(this),t=e.find("li"),n=e.siblings("a").position().left,r=0;t.wrapAll(o);for(var i=0;i<t.length;i+=a)t.slice(i,i+a).wrapAll(u);e.find(".menu-block").filter(function(){r+=$(this).outerWidth()});r+=n;e.css("left",r>f?n-(r-f):n)});$(r).on({mouseenter:function(e){if($.uw.screensize!="desktop")return!1;var t=$(this),r=t.children(i),o=t.children(s);o.addClass("open").attr("aria-expanded","true");o.length!=0&&n.css("left",r.position().left+l).fadeIn(c)},mouseleave:function(e){if($.uw.screensize!="desktop")return!1;var t=$(this),r=t.children(s);r.removeClass("open").attr("aria-expanded","false");n.stop().hide()},click:function(e){return $.uw.screensize=="desktop"}})});$(document).ready(function(){var e=$("ul.dawgdrops-menu, #sidebar ul.sub-menu"),t=$("span.navbar-caret"),n="keydown.dawgdrops",r="ul.dawgdrops-menu a, #sidebar ul.sub-menu a",i="a.dropdown-toggle, #sidebar ul.menu > li > a",s=20,o=300,u={enter:13,esc:27,tab:9,left:37,up:38,right:39,down:40,spacebar:32},a=function(){e.removeClass("open").attr("aria-expanded","false");t.hide()};$(document).on(n,r,function(e){if(e.altKey||e.ctrlKey)return!0;var t=$(this),n=t.closest("ul.open").find("a");switch(e.keyCode){case u.spacebar:document.location.href=t.attr("href");return!1;case u.tab:a();return!0;case u.esc:t.blur().closest("ul.open").siblings("a").focus();a();return!0;case u.down:var r=n.index(t);r=r===n.length-1?-1:r;n.eq(r+1).focus();return!1;case u.up:var r=n.index(t);n.eq(r-1).focus();return!1;case u.left:t.blur().closest("ul.open").siblings("a").focus();a();return!1;case u.right:t.blur().closest("ul.open").parent().next("li").children("a").focus();a();return!1;default:var i=String.fromCharCode(e.which),s=!1;n.filter(function(){s=this.innerHTML.charAt(0)===i;return s}).first().focus();return!s}}).on(n,i,function(e){if(e.altKey||e.ctrlKey)return!0;var n=$(this),r=n.siblings("ul"),f=$(i);switch(e.keyCode){case u.enter:if(!r.length)return!0;t.css("left",n.position().left+s).show();r.addClass("open").attr("aria-expanded","true");setTimeout(function(){r.find("a").first().focus()},o/2);return!1;case u.spacebar:case u.up:case u.down:var l=jQuery.Event("keydown",{keyCode:u.enter});n.trigger(l);return!1;case u.esc:a();return!1;case u.tab:a();return!0;case u.left:var c=f.index(n);f.eq(c-1).focus();return!1;case u.right:var c=f.index(n);c=c===f.length-1?-1:c;f.eq(c+1).focus();return!1;default:return!0}})});$(document).ready(function(){var e=$("#sidebar"),t=e.find(".menu"),n=t.children("li"),r=10,i=10,s=240,o='<ul class="pull-left" style="width:200px"/>',u="Browse ";n.each(function(){var e=$(this),t=e.find("li"),n=Math.ceil(t.length/i);if(n>0){e.children("ul").first().width(n*s);for(var u=0;u<t.length;u+=r)t.slice(u,u+r).wrapAll(o)}});e.find(".menu").each(function(){var e=$(this);e.tinyNav({header:u+e.closest(".widget").find("h2.widgettitle a").prop("title")})})});$(document).ready(function(){var e="#dawgdrops-mobile .menu-item a, #dawgdrops-mobile .page_item a",t="#uw-mobile-panel ul.sub-menu, #uw-mobile-panel ul.children",n="ul.sub-menu, ul.children",r="dawgdrops-mobile",i="open";$("div.uw-mobile-menu").children("ul").attr("id",r);$(t).hide();$("body").on("click touchstart","a#listicon-wrapper",function(e){var t=$("#slide").length==1,n=t?"0%":"85%";t||$("body").contents().not("#wpadminbar, #uw-mobile-panel").wrapAll('<div id="slide" style="position:relative;"/>');$("#slide").css({right:n});$("#uw-mobile-panel").toggle();t&&$("#slide").contents().unwrap();return!1});$("body").on("click",e,function(){var e=$(this),t=e.siblings(n),r=e.parent(),s=r.siblings("li");if(r.hasClass(i)||!t.length)return!0;s.filter("."+i).children(n).slideUp().end().removeClass(i);r.addClass(i);t.slideDown();return!1});$(window).resize(function(){$("#slide").length==1&&$.uw.screensize!="mobile"&&$("#listicon-wrapper").trigger("click")})});$(document).ready(function(){var e=225,t="http://www.washington.edu/home/peopledir/?method=name&whichdir=both&term=",n=$("body"),r=$("#search"),i=r.find("form"),s=r.find("input[type=radio]"),o=r.find(".search-options"),u=$("#q");s.first().prop("checked",!0);s.change(function(){var e="Search "+$(this).data("placeholder");u.prop("placeholder",e).attr("placeholder",e)});i.submit(function(){var e=$(this),n=s.filter(":checked"),r=n.val();if(r==="main")return!0;if(r==="directory"){window.location.href=t+u.val();return!1}if(r==="site"){window.location.href=n.data("site")+"?s="+u.val();return!1}return!0});u.bind("focus blur",function(e){o.fadeIn();u.css("width","225px");n.bind("click",function(e){if(!$(e.target).closest("#search").length){n.unbind("click");o.fadeOut();u.css("width","")}return!0})});o.find("input").bind("focus blur",function(e){switch(e.type){case"focus":o.stop().fadeIn();u.css("width","225px");break;case"blur":o.stop().fadeOut();u.css("width","")}});$("a.wordmark").bind("focus",function(){n.trigger("click")})});$(document).ready(function(){if($(".gallery").length==0)return;var e=$("body"),t=$('<div class="opaque"/>'),n=$("#gallery-overlay-image"),r=$("div.gallery-image"),i=$(".slideshow-right, .slideshow-left"),s=$(".gallery-viewport"),o=$(".group");$(".gallery-menu li:first").addClass("active");t.hide();s.data("showing",1);$("div.large").each(function(){var e=$(this);e.children().length||e.remove()});e.first().append(t);e.on("click","div.gallery-image",function(){var e=$(this),i=e.closest(".gallery"),o=e.data("wp-url"),u=e.data("permalink-url"),a=i.position(),f=$(window).width()<767;n.find(".share a").each(function(){var e=$(this),t=e.data("href");switch(e.attr("class")){case"gallery-facebook":e.attr("href",t+u+"&t="+(new Date).getTime());break;case"gallery-twitter":e.attr("href",t+u);break;case"gallery-original":e.attr("href",o)}});s.closest(".gallery").addClass("image-showing");n.hide().css({position:"absolute",zIndex:1}).find(".image-description").html(e.children("span").html()).end().find("img").attr({src:e.data("url")});n.imagesLoaded(function(e,r,s){var o=new Image;o.src=e.get(0).src;var u=o.height,a=o.width,l=f?0:27;t.show();n.hide().fadeIn().css({top:u===0||f?i.position().top:i.position().top+(i.height()-u)/2,left:a===0||f?l:(i.width()-a)/2+l})});var l=r.index(this);n.data({prev:l-1,selected:l,next:l+1===r.length?0:l+1})}).on("click",".opaque, .gallery-close",function(){s.closest(".gallery").removeClass("image-showing");t.fadeOut();n.hide()}).on("click",".slideshow-right, .slideshow-left",function(e){if(n.is(":visible")){var t=$(e.target).hasClass("slideshow-right")?"next":"prev",i=n.data(t);r.eq(i).trigger("click")}else{var t=$(e.target).hasClass("slideshow-right")?"-=":"+=",o=s.children().first().outerWidth();if(s.data("showing")==1&&t=="+="||s.data("showing")==s.data("slides")&&t=="-=")return!1;s.parent().width()>=2*o&&(o*=2);s.animate({marginLeft:t+o},400).data("showing",t==="-="?s.data("showing")+1:s.data("showing")-1)}$(this).siblings(".gallery-table").find("li").removeClass("active").eq(s.data("showing")-1).addClass("active");return!1}).on("click",".gallery-menu li",function(){var e=$(this),t=s.children().first().outerWidth();s.parent().width()>=2*t&&(t*=2);e.addClass("active").siblings().removeClass("active");s.animate({marginLeft:-1*e.index()*t},400).data("showing",e.index()+1)});$(window).resize(function(){var e=Math.ceil(s.children().length*s.children().first().width()/s.closest(".gallery").width()),t=$(".gallery-menu").first();s.data("slides",e);if(e==t.children().length)return!1;t.html("");while(e--)t.append($("<li/>").text(e));t.children("li").first().trigger("click")}).trigger("resize")});$(document).ready(function(){$(".communityphotos").each(function(){$(this).find("img").each(function(){var e=$(this);e.attr("src",e.data("src"))})})});$(document).ready(function(){var e=$(".slideshow-widget"),t=$(window),n="active-slide",r=100;e.on("click","li > a",function(){var e=$(this),t=e.closest(".widget"),r=t.find(".slide"),i=t.find("li a");if(e.hasClass(n))return!1;i.removeClass(n);e.addClass(n);r.filter("."+n).removeClass(n).end().eq(e.parent().index()).addClass(n);t.data("currentSlide",e.parent().index());return!1});e.data("currentSlide",0).on("touchstart touchmove touchend",".slide",function(e){if($.uw.screensize==="desktop")return!1;var r=$(this),i=r.closest(".widget"),s=r.siblings(".slide").andSelf(),o=i.find("li a"),u=r.width(),a="IMG";switch(e.type){case"touchstart":t.trigger("resize");s.data({touchStartPosition:e.originalEvent.touches[0].pageX,originalLeft:r.position().left});break;case"touchmove":var f=e.originalEvent.changedTouches[0].pageX-s.data("touchStartPosition")+s.data("originalLeft"),l=r.position().left,c=f<0?s.slice(r.index()+1):s.slice(r.index());c.data({currentPosition:l,currentDiff:u-l}).transition({x:f+u*i.data("currentSlide")},{queue:!1});f<0?r.transition({opacity:1-Math.abs(f/u)},{queue:!1}):r.prev().transition({opacity:Math.abs(f/u)},{queue:!1});break;case"touchend":var f=e.originalEvent.changedTouches[0].pageX-r.data("touchStartPosition"),h=i.data("currentSlide"),p=Math.max(Math.abs(f/u),.3)==.3?0:f/u,c=f<0?s.slice(r.index()+1):s.slice(r.index());c=c.length?c:s.last();var h=p===0||p>0&&!r.prev(".slide").length||p<0&&!r.next(".slide").length?i.data("currentSlide"):p>.3?h+=1:h-=1;i.data("currentSlide",h);c.transition({x:u*h});f<0&&p!=0?s.not(c).transition({opacity:0}):r.prev().transition({opacity:1,queue:!1});(Math.abs(h)==s.length-1||!p)&&r.transition({opacity:1,queue:!1});o.removeClass(n).eq(Math.abs(h)).addClass(n);break;case"default":return!1}return!1});t.bind("scroll",function(){if($.uw.screensize!="desktop")return;var t=$(this),n=Math.max(-40*t.scrollTop()/t.height(),-15);e.find("img").css("margin-top",n+"%")}).resize(function(){$.uw.screensize!="desktop"?$(".slide").width(t.width()):e.removeAttr("style").find(".slide").removeAttr("style")}).trigger("resize")});(function(e,t){function o(t){e.extend(!0,n,t)}function u(n,r,i){function D(e){if(!d)P();else{z();U();et();q(e)}}function P(){v=r.theme?"ui":"fc";n.addClass("fc");r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr");r.theme&&n.addClass("ui-widget");d=e("<div class='fc-content' style='position:relative'/>").prependTo(n);h=new a(o,r);p=h.render();p&&n.prepend(p);I(r.defaultView);e(window).resize(X);F()||H()}function H(){setTimeout(function(){!b.start&&F()&&q()},0)}function B(){e(window).unbind("resize",X);h.destroy();d.remove();n.removeClass("fc fc-rtl ui-widget")}function j(){return l.offsetWidth!==0}function F(){return e("body")[0].offsetWidth!==0}function I(t){if(!b||t!=b.name){k++;nt();var n=b,r;if(n){(n.beforeHide||Y)();G(d,d.height());n.element.hide()}else G(d,1);d.css("overflow","hidden");b=w[t];b?b.element.show():b=w[t]=new s[t](r=T=e("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(d),o);n&&h.deactivateButton(n.name);h.activateButton(t);q();d.css("overflow","");n&&G(d,1);r||(b.afterShow||Y)();k--}}function q(e){if(j()){k++;nt();x===t&&z();var r=!1;if(!b.start||e||L<b.start||L>=b.end){b.render(L,e||0);W(!0);r=!0}else if(b.sizeDirty){b.clearEvents();W();r=!0}else if(b.eventsDirty){b.clearEvents();r=!0}b.sizeDirty=!1;b.eventsDirty=!1;V(r);E=n.outerWidth();h.updateTitle(b.title);var i=new Date;i>=b.start&&i<b.end?h.disableButton("today"):h.enableButton("today");k--;b.trigger("viewDisplay",l)}}function R(){U();if(j()){z();W();nt();b.clearEvents();b.renderEvents(A);b.sizeDirty=!1}}function U(){e.each(w,function(e,t){t.sizeDirty=!0})}function z(){r.contentHeight?x=r.contentHeight:r.height?x=r.height-(p?p.height():0)-$(d):x=Math.round(d.width()/Math.max(r.aspectRatio,.5))}function W(e){k++;b.setHeight(x,e);if(T){T.css("position","relative");T=null}b.setWidth(d.width(),e);k--}function X(){if(!k)if(b.start){var e=++N;setTimeout(function(){if(e==N&&!k&&j()&&E!=(E=n.outerWidth())){k++;R();b.trigger("windowResize",l);k--}},200)}else H()}function V(e){!r.lazyFetching||u(b.visStart,b.visEnd)?J():e&&Z()}function J(){f(b.visStart,b.visEnd)}function K(e){A=e;Z()}function Q(e){Z(e)}function Z(e){et();if(j()){b.clearEvents();b.renderEvents(A,e);b.eventsDirty=!1}}function et(){e.each(w,function(e,t){t.eventsDirty=!0})}function tt(e,n,r){b.select(e,n,r===t?!0:r)}function nt(){b&&b.unselect()}function rt(){q(-1)}function it(){q(1)}function st(){m(L,-1);q()}function ot(){m(L,1);q()}function ut(){L=new Date;q()}function at(e,t,n){e instanceof Date?
L=S(e):C(L,e,t,n);q()}function ft(e,n,r){e!==t&&m(L,e);n!==t&&g(L,n);r!==t&&y(L,r);q()}function lt(){return S(L)}function ct(){return b}function ht(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio"){r[e]=n;R()}}function pt(e,t){if(r[e])return r[e].apply(t||l,Array.prototype.slice.call(arguments,2))}var o=this;o.options=r;o.render=D;o.destroy=B;o.refetchEvents=J;o.reportEvents=K;o.reportEventChange=Q;o.rerenderEvents=Z;o.changeView=I;o.select=tt;o.unselect=nt;o.prev=rt;o.next=it;o.prevYear=st;o.nextYear=ot;o.today=ut;o.gotoDate=at;o.incrementDate=ft;o.formatDate=function(e,t){return O(e,t,r)};o.formatDates=function(e,t,n){return M(e,t,n,r)};o.getDate=lt;o.getView=ct;o.option=ht;o.trigger=pt;c.call(o,r,i);var u=o.isFetchNeeded,f=o.fetchEvents,l=n[0],h,p,d,v,b,w={},E,x,T,N=0,k=0,L=new Date,A=[],_;C(L,r.year,r.month,r.date);r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o)){_=i;b.dragStart(_,t,n)}}}).bind("dragstop",function(e,t){if(_){b.dragStop(_,e,t);_=null}})}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t){i=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(f("left")).append(f("center")).append(f("right")));return i}}function a(){i.remove()}function f(r){var i=e("<td class='fc-header-"+r+"'/>"),u=n.header[r];u&&e.each(u.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var u;e.each(this.split(","),function(r,a){if(a=="title"){i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");u&&u.addClass(o+"-corner-right");u=null}else{var f;t[a]?f=t[a]:s[a]&&(f=function(){h.removeClass(o+"-state-hover");t.changeView(a)});if(f){var l=n.theme?nt(n.buttonIcons,a):null,c=nt(n.buttonText,a),h=e("<span class='fc-button fc-button-"+a+" "+o+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){h.hasClass(o+"-state-disabled")||f()}).mousedown(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){h.removeClass(o+"-state-down")}).hover(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){h.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(i);st(h);u||h.addClass(o+"-corner-left");u=h}}});u&&u.addClass(o+"-corner-right")});return i}function l(e){i.find("h2").html(e)}function c(e){i.find("span.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("span.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("span.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("span.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u;r.destroy=a;r.updateTitle=l;r.activateButton=c;r.deactivateButton=h;r.disableButton=p;r.enableButton=d;var i=e([]),o}function c(n,r){function w(e,t){return!p||e<p||t>d}function E(e,t){p=e;d=t;y=[];var n=++v,r=h.length;m=r;for(var i=0;i<r;i++)x(h[i],n)}function x(t,r){T(t,function(i){if(r==v){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform));t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;s<i.length;s++){i[s].source=t;H(i[s])}y=y.concat(i)}m--;m||a(y)}})}function T(t,r){var s,o=i.sourceFetchers,u;for(s=0;s<o.length;s++){u=o[s](t,p,d,r);if(u===!0)return;if(typeof u=="object"){T(u,r);return}}var a=t.events;if(a)if(e.isFunction(a)){D();a(S(p),S(d),function(e){r(e);P()})}else e.isArray(a)?r(a):r();else{var l=t.url;if(l){var c=t.success,h=t.error,v=t.complete,m=e.extend({},t.data||{}),g=lt(t.startParam,n.startParam),y=lt(t.endParam,n.endParam);g&&(m[g]=Math.round(+p/1e3));y&&(m[y]=Math.round(+d/1e3));D();e.ajax(e.extend({},f,t,{data:m,success:function(t){t=t||[];var n=ft(c,this,arguments);e.isArray(n)&&(t=n);r(t)},error:function(){ft(h,this,arguments);r()},complete:function(){ft(v,this,arguments);P()}}))}else r()}}function N(e){e=C(e);if(e){m++;x(e,v)}}function C(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object"){B(t);h.push(t);return t}}function L(t){h=e.grep(h,function(e){return!j(e,t)});y=e.grep(y,function(e){return!j(e.source,t)});a(y)}function A(e){var t,n=y.length,r,i=u().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++){r=y[t];if(r._id==e._id&&r!=e){r.start=new Date(+r.start+s);e.end?r.end?r.end=new Date(+r.end+o):r.end=new Date(+i(r)+o):r.end=null;r.title=e.title;r.url=e.url;r.allDay=e.allDay;r.className=e.className;r.editable=e.editable;r.color=e.color;r.backgroudColor=e.backgroudColor;r.borderColor=e.borderColor;r.textColor=e.textColor;H(r)}}H(e);a(y)}function O(e,t){H(e);if(!e.source){if(t){c.events.push(e);e.source=c}y.push(e)}a(y)}function M(t){if(!t){y=[];for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=[])}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}y=e.grep(y,t,!0);for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=e.grep(h[n].events,t,!0))}a(y)}function _(t){if(e.isFunction(t))return e.grep(y,t);if(t){t+="";return e.grep(y,function(e){return e._id==t})}return y}function D(){g++||o("loading",null,!0)}function P(){--g||o("loading",null,!1)}function H(e){var r=e.source||{},i=lt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+l++:e.id+"");if(e.date){e.start||(e.start=e.date);delete e.date}e._start=S(e.start=k(e.start,i));e.end=k(e.end,i);e.end&&e.end<=e.start&&(e.end=null);e._end=e.end?S(e.end):null;e.allDay===t&&(e.allDay=lt(r.allDayDefault,n.allDayDefault));e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function B(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];var t=i.sourceNormalizers;for(var n=0;n<t.length;n++)t[n](e)}function j(e,t){return e&&t&&F(e)==F(t)}function F(e){return(typeof e=="object"?e.events||e.url:"")||e}var s=this;s.isFetchNeeded=w;s.fetchEvents=E;s.addEventSource=N;s.removeEventSource=L;s.updateEvent=A;s.renderEvent=O;s.removeEvents=M;s.clientEvents=_;s.normalizeEvent=H;var o=s.trigger,u=s.getView,a=s.reportEvents,c={events:[]},h=[c],p,d,v=0,m=0,g=0,y=[];for(var b=0;b<r.length;b++)C(r[b])}function m(e,t,n){e.setFullYear(e.getFullYear()+t);n||E(e);return e}function g(e,t,n){if(+e){var r=e.getMonth()+t,i=S(e);i.setDate(1);i.setMonth(r);e.setMonth(r);n||E(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function y(e,t,n){if(+e){var r=e.getDate()+t,i=S(e);i.setHours(9);i.setDate(r);e.setDate(r);n||E(e);b(e,i)}return e}function b(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*d)}function w(e,t){e.setMinutes(e.getMinutes()+t);return e}function E(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function S(e,t){return t?E(new Date(+e)):new Date(+e)}function x(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function T(e,t,n){t=t||1;while(!e.getDay()||n&&e.getDay()==1||!n&&e.getDay()==6)y(e,t);return e}function N(e,t){return Math.round((S(e,!0)-S(t,!0))/p)}function C(e,n,r,i){if(n!==t&&n!=e.getFullYear()){e.setDate(1);e.setMonth(0);e.setFullYear(n)}if(r!==t&&r!=e.getMonth()){e.setDate(1);e.setMonth(r)}i!==t&&e.setDate(i)}function k(e,n){if(typeof e=="object")return e;if(typeof e=="number")return new Date(e*1e3);if(typeof e=="string"){if(e.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(e)*1e3);n===t&&(n=!0);return L(e,n)||(e?new Date(e):null)}return null}function L(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);if(n[3]){r.setMonth(n[3]-1);i.setMonth(n[3]-1)}if(n[5]){r.setDate(n[5]);i.setDate(n[5])}b(r,i);n[7]&&r.setHours(n[7]);n[8]&&r.setMinutes(n[8]);n[10]&&r.setSeconds(n[10]);n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3);b(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1);r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1;r=new Date(+r+s*60*1e3)}}return r}function A(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);if(t[3]){n%=12;t[3].toLowerCase().charAt(0)=="p"&&(n+=12)}return n*60+(t[2]?parseInt(t[2],10):0)}}function O(e,t,n){return M(e,null,t,n)}function M(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++)if(r.charAt(l)=="'"){if(s){l==u+1?h+="'":h+=r.substring(u+1,l);u=l}break}}else if(f=="("){for(l=u+1;l<a;l++)if(r.charAt(l)==")"){var p=O(s,r.substring(u+1,l),i);parseInt(p.replace(/\D/,""),10)&&(h+=p);u=l;break}}else if(f=="["){for(l=u+1;l<a;l++)if(r.charAt(l)=="]"){var d=r.substring(u+1,l),p=O(s,d,i);p!=O(o,d,i)&&(h+=p);u=l;break}}else if(f=="{"){s=t;o=e}else if(f=="}"){s=e;o=t}else{for(l=a;l>u;l--)if(c=_[r.substring(u,l)]){s&&(h+=c(s,i));u=l-1;break}l==u&&s&&(h+=f)}}return h}function D(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1}function P(e){return e.end?H(e.end,e.allDay):y(S(e.start),1)}function H(e,t){e=S(e);return t||e.getHours()||e.getMinutes()?y(e,1):E(e)}function B(e,t){return(t.msLength-e.msLength)*100+(e.event.start-t.event.start)}function j(e,t){return e.end>t.start&&e.start<t.end}function F(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++){u=e[s];a=u.start;f=t[s];if(f>n&&a<r){if(a<n){l=S(n);h=!1}else{l=a;h=!0}if(f>r){c=S(r);p=!1}else{c=f;p=!0}i.push({event:u,start:l,end:c,isStart:h,isEnd:p,msLength:c-l})}}return i.sort(B)}function I(e){var t=[],n,r=e.length,i,s,o,u;for(n=0;n<r;n++){i=e[n];s=0;for(;;){o=!1;if(t[s])for(u=0;u<t[s].length;u++)if(j(t[s][u],i)){o=!0;break}if(!o)break;s++}t[s]?t[s].push(i):t[s]=[i]}return t}function q(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this){o=s;s=s.parentNode}if((u=o._fci)!==t){o._fci=t;a=r[u];i(a.event,a.element,a);e(n.target).trigger(n)}n.stopPropagation()})}function R(t,n,r){for(var i=0,s;i<t.length;i++){s=e(t[i]);s.width(Math.max(0,n-z(s,r)))}}function U(t,n,r){for(var i=0,s;i<t.length;i++){s=e(t[i]);s.height(Math.max(0,n-$(s,r)))}}function z(e,t){return W(e)+V(e)+(t?X(e):0)}function W(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function X(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function V(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function $(e,t){return J(e)+Q(e)+(t?K(e):0)}function J(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function K(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function Q(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function G(e,t){t=typeof t=="number"?t+"px":t;e.each(function(e,n){n.style.cssText+=";min-height:"+t+";_height:"+t})}function Y(){}function Z(e,t){return e-t}function et(e){return Math.max.apply(Math,e)}function tt(e){return(e<10?"0":"")+e}function nt(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function rt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function it(e){return e.id+"/"+e.className+"/"+e.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function st(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function ot(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function ut(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+h[t.getDay()])})}function at(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];o&&f.push("background-color:"+o);u&&f.push("border-color:"+u);a&&f.push("color:"+a);return f.join(";")}function ft(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function lt(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function ct(e,t){function o(e,t){if(t){g(e,t);e.setDate(1)}var o=S(e,!0);o.setDate(1);var u=g(S(o),1),a=S(o),f=S(u),l=r("firstDay"),c=r("weekends")?0:1;if(c){T(a);T(f,-1,!0)}y(a,-((a.getDay()-Math.max(l,c)+7)%7));y(f,(7-f.getDay()+Math.max(l,c))%7);var h=Math.round((f-a)/(p*7));if(r("weekMode")=="fixed"){y(f,(6-h)*7);h=6}n.title=s(o,r("titleFormat"));n.start=o;n.end=u;n.visStart=a;n.visEnd=f;i(h,c?5:7,!0)}var n=this;n.render=o;dt.call(n,e,t,"month");var r=n.opt,i=n.renderBasic,s=t.formatDate}function ht(e,t){function o(e,t){t&&y(e,t*7);var o=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),u=y(S(o),7),a=S(o),f=S(u),l=r("weekends");if(!l){T(a);T(f,-1,!0)}n.title=s(a,y(S(f),-1),r("titleFormat"));n.start=o;n.end=u;n.visStart=a;n.visEnd=f;i(1,l?7:5,!1)}var n=this;n.render=o;dt.call(n,e,t,"basicWeek");var r=n.opt,i=n.renderBasic,s=t.formatDates}function pt(e,t){function o(e,t){if(t){y(e,t);r("weekends")||T(e,t<0?-1:1)}n.title=s(e,r("titleFormat"));n.start=n.visStart=S(e,!0);n.end=n.visEnd=y(S(n.start),1);i(1,1,!1)}var n=this;n.render=o;dt.call(n,e,t,"basicDay");var r=n.opt,i=n.renderBasic,s=t.formatDate}function dt(t,n,r){function J(e,t,n){M=e;_=t;K();var r=!m;r?Q():u();Y(n)}function K(){B=s("isRTL");if(B){j=-1;F=_-1}else{j=1;F=0}I=s("firstDay");q=s("weekends")?0:1;U=s("theme")?"ui":"fc";z=s("columnFormat");W=s("weekNumbers");X=s("weekNumberTitle");s("weekNumberCalculation")!="iso"?V="w":V="W"}function Q(){T=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function Y(n){var r="",s,u,a=U+"-widget-header",f=U+"-widget-content",l=i.start.getMonth(),y=E(new Date),S,T,N;r+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";W&&(r+="<th class='fc-week-number "+a+"'/>");for(s=0;s<_;s++){S=bt(0,s);r+="<th class='fc-day-header fc-"+h[S.getDay()]+" "+a+"'/>"}r+="</tr></thead><tbody>";for(s=0;s<M;s++){r+="<tr class='fc-week'>";W&&(r+="<td class='fc-week-number "+f+"'>"+"<div/>"+"</td>");for(u=0;u<_;u++){S=bt(s,u);T=["fc-day","fc-"+h[S.getDay()],f];S.getMonth()!=l&&T.push("fc-other-month");if(+S==+y){T.push("fc-today");T.push(U+"-state-highlight")}r+="<td class='"+T.join(" ")+"'"+" data-date='"+c(S,"yyyy-MM-dd")+"'"+">"+"<div>";n&&(r+="<div class='fc-day-number'>"+S.getDate()+"</div>");r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}r+="</tr>"}r+="</tbody></table>";Ot();p&&p.remove();p=e(r).appendTo(t);d=p.find("thead");v=d.find(".fc-day-header");m=p.find("tbody");g=m.find("tr");b=m.find(".fc-day");w=g.find("td:first-child");x=g.eq(0).find(".fc-day-content > div");ot(d.add(d.find("tr")));ot(g);g.eq(0).addClass("fc-first");g.filter(":last").addClass("fc-last");W&&d.find(".fc-week-number").text(X);v.each(function(t,n){var r=wt(t);e(n).text(c(r,z))});W&&m.find(".fc-week-number > div").each(function(t,n){var r=bt(t,0);e(n).text(c(r,V))});b.each(function(t,n){var r=wt(t);o("dayRender",i,r,e(n))});tt(b)}function Z(t){k=t;var n=k-d.height(),r,i,o;if(s("weekMode")=="variable")r=i=Math.floor(n/(M==1?2:6));else{r=Math.floor(n/M);i=n-r*(M-1)}w.each(function(t,n){if(t<M){o=e(n);G(o.find("> div"),(t==M-1?i:r)-$(o))}});Mt()}function et(e){C=e;H.clear();O=0;W&&(O=d.find("th.fc-week-number").outerWidth());A=Math.floor((C-O)/_);R(v.slice(0,-1),A)}function tt(e){e.click(nt).mousedown(l)}function nt(t){if(!s("selectable")){var n=L(e(this).data("date"));o("dayClick",this,n,!0,t)}}function rt(e,t,n){n&&D.build();var r=S(i.visStart),s=y(S(r),_);for(var o=0;o<M;o++){var u=new Date(Math.max(r,e)),a=new Date(Math.min(s,t));if(u<a){var f,l;if(B){f=N(a,r)*j+F+1;l=N(u,r)*j+F+1}else{f=N(u,r);l=N(a,r)}tt(it(o,f,o,l-1))}y(r,7);y(s,7)}}function it(e,n,r,i){var s=D.rect(e,n,r,i,t);return a(s,t)}function ut(e,t){return S(e)}function at(e,t,n){rt(e,y(S(t),1),!0)}function ft(){f()}function lt(e,t,n){var r=gt(e),i=b[r.row*_+r.col];o("dayClick",i,e,t,n)}function ct(e,t,n){P.start(function(e){f();e&&it(e.row,e.col,e.row,e.col)},t)}function ht(e,t,n){var r=P.stop();f();if(r){var i=yt(r);o("drop",e,i,!0,t,n)}}function pt(e){return S(e.start)}function dt(e){return H.left(e)}function mt(e){return H.right(e)}function gt(e){return{row:Math.floor(N(e,i.visStart)/7),col:St(e.getDay())}}function yt(e){return bt(e.row,e.col)}function bt(e,t){return y(S(i.visStart),e*7+t*j+F)}function wt(e){return bt(Math.floor(e/_),e%_)}function St(e){return(e-Math.max(I,q)+_)%_*j+F}function kt(e){return g.eq(e)}function At(e){var t=0;W&&(t+=O);return{left:t,right:C}}function Ot(){G(t,t.height())}function Mt(){G(t,1)}var i=this;i.renderBasic=J;i.setHeight=Z;i.setWidth=et;i.renderDayOverlay=rt;i.defaultSelectionEnd=ut;i.renderSelection=at;i.clearSelection=ft;i.reportDayClick=lt;i.dragStart=ct;i.dragStop=ht;i.defaultEventEnd=pt;i.getHoverListener=function(){return P};i.colContentLeft=dt;i.colContentRight=mt;i.dayOfWeekCol=St;i.dateCell=gt;i.cellDate=yt;i.cellIsAllDay=function(){return!0};i.allDayRow=kt;i.allDayBounds=At;i.getRowCnt=function(){return M};i.getColCnt=function(){return _};i.getColWidth=function(){return A};i.getDaySegmentContainer=function(){return T};Et.call(i,t,n,r);Tt.call(i);xt.call(i);vt.call(i);var s=i.opt,o=i.trigger,u=i.clearEvents,a=i.renderOverlay,f=i.clearOverlays,l=i.daySelectionMousedown,c=n.formatDate,p,d,v,m,g,b,w,x,T,C,k,A,O,M,_,D,P,H,B,j,F,I,q,U,z,W,X,V;st(t.addClass("fc-grid"));D=new Nt(function(t,n){var r,i,s;v.each(function(t,o){r=e(o);i=r.offset().left;t&&(s[1]=i);s=[i];n[t]=s});s[1]=i+r.outerWidth();g.each(function(n,o){if(n<M){r=e(o);i=r.offset().top;n&&(s[1]=i);s=[i];t[n]=s}});s[1]=i+r.outerHeight()});P=new Ct(D);H=new Lt(function(e){return x.eq(e)})}function vt(){function E(e,t){o(e);b(T(e),t);r("eventAfterAllRender")}function x(){u();h().empty()}function T(n){var r=m(),i=g(),s=S(t.visStart),o=y(S(s),i),u=e.map(n,P),a,f,l,c,h,p,d=[];for(a=0;a<r;a++){f=I(F(n,u,s,o));for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++){p=c[h];p.row=a;p.level=l;d.push(p)}}y(s,7);y(o,7)}return d}function N(e,t,n){i(e)&&C(e,t);n.isEnd&&s(e)&&w(e,t,n);a(e,t)}function C(e,t){var i=p(),s;t.draggable({zIndex:9,delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(o,u){r("eventDragStart",t,e,o,u);l(e,t);i.start(function(r,i,o,u){t.draggable("option","revert",!r||!o&&!u);v();if(r){s=o*7+u*(n("isRTL")?-1:1);d(y(S(e.start),s),y(P(e),s))}else s=0},o,"drag")},stop:function(n,o){i.stop();v();r("eventDragStop",t,e,n,o);if(s)c(this,e,s,0,e.allDay,n,o);else{t.css("filter","");f(e,t)}}})}var t=this;t.renderEvents=E;t.compileDaySegs=T;t.clearEvents=x;t.bindDaySeg=N;St.call(t);var n=t.opt,r=t.trigger,i=t.isEventDraggable,s=t.isEventResizable,o=t.reportEvents,u=t.reportEventClear,a=t.eventElementHandlers,f=t.showEvents,l=t.hideEvents,c=t.eventDrop,h=t.getDaySegmentContainer,p=t.getHoverListener,d=t.renderDayOverlay,v=t.clearOverlays,m=t.getRowCnt,g=t.getColCnt,b=t.renderDaySegs,w=t.resizableDayEvent}function mt(e,t){function o(e,t){t&&y(e,t*7);var o=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),u=y(S(o),7),a=S(o),f=S(u),l=r("weekends");if(!l){T(a);T(f,-1,!0)}n.title=s(a,y(S(f),-1),r("titleFormat"));n.start=o;n.end=u;n.visStart=a;n.visEnd=f;i(l?7:5)}var n=this;n.render=o;yt.call(n,e,t,"agendaWeek");var r=n.opt,i=n.renderAgenda,s=t.formatDates}function gt(e,t){function o(e,t){if(t){y(e,t);r("weekends")||T(e,t<0?-1:1)}var o=S(e,!0),u=y(S(o),1);n.title=s(e,r("titleFormat"));n.start=n.visStart=o;n.end=n.visEnd=u;i(1)}var n=this;n.render=o;yt.call(n,e,t,"agendaDay");var r=n.opt,i=n.renderAgenda,s=t.formatDate}function yt(n,r,i){function Mt(e){nt=e;_t();m?a():Dt();Pt()}function _t(){ht=o("theme")?"ui":"fc";dt=o("weekends")?0:1;pt=o("firstDay");if(vt=o("isRTL")){mt=-1;gt=nt-1}else{mt=1;gt=0}yt=A(o("minTime"));wt=A(o("maxTime"));St=o("columnFormat");kt=o("weekNumbers");At=o("weekNumberTitle");o("weekNumberCalculation")!="iso"?Ot="w":Ot="W";Y=o("snapMinutes")||o("slotMinutes")}function Dt(){var t=ht+"-widget-header",r=ht+"-widget-content",i,s,u,a,f,l=o("slotMinutes")%15==0;i="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>";kt?i+="<th class='fc-agenda-axis fc-week-number "+t+"'/>":i+="<th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<nt;s++)i+="<th class='fc- fc-col"+s+" "+t+"'/>";i+="<th class='fc-agenda-gutter "+t+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+t+"'>&nbsp;</th>";for(s=0;s<nt;s++)i+="<td class='fc- fc-col"+s+" "+r+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";i+="<td class='fc-agenda-gutter "+r+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>";m=e(i).appendTo(n);g=m.find("thead");b=g.find("th").slice(1,-1);T=m.find("tbody");C=T.find("td").slice(0,-1);k=C.find("div.fc-day-content div");L=C.eq(0);O=L.find("> div");ot(g.add(g.find("tr")));ot(T.add(T.find("tr")));q=g.find("th:first");z=m.find(".fc-agenda-gutter");M=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n);if(o("allDaySlot")){_=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(M);i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+o("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>";D=e(i).appendTo(M);P=D.find("tr");qt(P.find("td"));q=q.add(D.find("th:first"));z=z.add(D.find("th.fc-agenda-gutter"));M.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")}else _=e([]);H=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(M);B=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(H);j=e("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(B);i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";u=x();a=w(S(u),wt);w(u,yt);rt=0;for(s=0;u<a;s++){f=u.getMinutes();i+="<tr class='fc-slot"+s+" "+(f?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!l||!f?v(u,o("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>";w(u,o("slotMinutes"));rt++}i+="</tbody></table>";F=e(i).appendTo(B);I=F.find("div:first");Rt(F.find("td"));q=q.add(F.find("th:first"))}function Pt(){var e,t,n,r,i=E(new Date);if(kt){var s=v(Qt(0),Ot);vt?s+=At:s=At+s;g.find(".fc-week-number").text(s)}for(e=0;e<nt;e++){r=Qt(e);t=b.eq(e);t.html(v(r,St));n=C.eq(e);+r==+i?n.addClass(ht+"-state-highlight fc-today"):n.removeClass(ht+"-state-highlight fc-today");ut(t.add(n),r)}}function Ht(e,n){e===t&&(e=V);V=e;lt={};var r=T.position().top,i=H.position().top,s=Math.min(e-r,F.height()+i+1);O.height(s-$(L));M.css("top",r);H.height(s-i-1);G=I.height()+1;et=o("slotMinutes")/Y;tt=G/et;n&&jt()}function Bt(t){X=t;ft.clear();J=0;R(q.width("").each(function(t,n){J=Math.max(J,e(n).outerWidth())}),J);var n=H[0].clientWidth;Q=H.width()-n;if(Q){R(z,Q);z.show().prev().removeClass("fc-last")}else z.hide().prev().addClass("fc-last");K=Math.floor((n-J)/nt);R(b.slice(0,-1),K)}function jt(){function r(){H.scrollTop(n)}var e=x(),t=S(e);t.setHours(o("firstHour"));var n=Zt(e,t)+1;r();setTimeout(r,0)}function Ft(){ct=H.scrollTop()}function It(){H.scrollTop(ct)}function qt(e){e.click(Ut).mousedown(p)}function Rt(e){e.click(Ut).mousedown(an)}function Ut(e){if(!o("selectable")){var t=Math.min(nt-1,Math.floor((e.pageX-m.offset().left-J)/K)),n=Qt(t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes"),s=Math.floor(i/60);n.setHours(s);n.setMinutes(i%60+yt);u("dayClick",C[t],n,!1,e)}else u("dayClick",C[t],n,!0,e)}}function zt(e,t,n){n&&it.build();var r=S(s.visStart),i,o;if(vt){i=N(t,r)*mt+gt+1;o=N(e,r)*mt+gt+1}else{i=N(e,r);o=N(t,r)}i=Math.max(0,i);o=Math.min(nt,o);i<o&&qt(Wt(0,i,0,o-1))}function Wt(e,t,n,r){var i=it.rect(e,t,n,r,M);return f(i,M)}function Xt(e,t){var n=S(s.visStart),r=y(S(n),1);for(var i=0;i<nt;i++){var o=new Date(Math.max(n,e)),u=new Date(Math.min(r,t));if(o<u){var a=i*mt+gt,l=it.rect(0,a,0,a,B),c=Zt(n,o),h=Zt(n,u);l.top=c;l.height=h-c;Rt(f(l,B))}y(n,1);y(r,1)}}function Vt(e){return ft.left(e)}function $t(e){return ft.right(e)}function Jt(e){return{row:Math.floor(N(e,s.visStart)/7),col:Yt(e.getDay())}}function Kt(e){var t=Qt(e.col),n=e.row;o("allDaySlot")&&n--;n>=0&&w(t,yt+n*Y);return t}function Qt(e){return y(S(s.visStart),e*mt+gt)}function Gt(e){return o("allDaySlot")&&!e.row}function Yt(e){return(e-Math.max(pt,dt)+nt)%nt*mt+gt}function Zt(e,n){e=S(e,!0);if(n<w(S(e),yt))return 0;if(n>=w(S(e),wt))return F.height();var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-yt,s=Math.floor(i/r),u=lt[s];u===t&&(u=lt[s]=F.find("tr:eq("+s+") td div")[0].offsetTop);return Math.max(0,Math.round(u-1+G*(i%r/r)))}function en(){return{left:J,right:X-Q}}function tn(e){return P}function nn(e){var t=S(e.start);return e.allDay?t:w(t,o("defaultEventMinutes"))}function rn(e,t){return t?S(e):w(S(e),o("slotMinutes"))}function sn(e,t,n){n?o("allDaySlot")&&zt(e,y(S(t),1),!0):on(e,t)}function on(t,n){var r=o("selectHelper");it.build();if(r){var i=N(t,s.visStart)*mt+gt;if(i>=0&&i<nt){var u=it.rect(0,i,0,i,B),a=Zt(t,t),f=Zt(t,n);if(f>a){u.top=a;u.height=f-a;u.left+=2;u.width-=5;if(e.isFunction(r)){var l=r(t,n);if(l){u.position="absolute";u.zIndex=8;W=e(l).css(u).appendTo(B)}}else{u.isStart=!0;u.isEnd=!0;W=e(d({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},u));W.css("opacity",o("dragOpacity"))}if(W){Rt(W);B.append(W);R(W,u.width,!0);U(W,u.height,!0)}}}}else Xt(t,n)}function un(){l();if(W){W.remove();W=null}}function an(t){if(t.which==1&&o("selectable")){h(t);var n;at.start(function(e,t){un();if(e&&e.col==t.col&&!Gt(e)){var r=Kt(t),i=Kt(e);n=[r,w(S(r),Y),i,w(S(i),Y)].sort(Z);on(n[0],n[3])}else n=null},t);e(document).one("mouseup",function(e){at.stop();if(n){+n[0]==+n[1]&&fn(n[0],!1,e);c(n[0],n[3],!1,e)}})}}function fn(e,t,n){u("dayClick",C[Yt(e.getDay())],e,t,n)}function ln(e,t,n){at.start(function(e){l();if(e)if(Gt(e))Wt(e.row,e.col,e.row,e.col);else{var t=Kt(e),n=w(S(t),o("defaultEventMinutes"));Xt(t,n)}},t)}function cn(e,t,n){var r=at.stop();l();r&&u("drop",e,Kt(r),Gt(r),t,n)}var s=this;s.renderAgenda=Mt;s.setWidth=Bt;s.setHeight=Ht;s.beforeHide=Ft;s.afterShow=It;s.defaultEventEnd=nn;s.timePosition=Zt;s.dayOfWeekCol=Yt;s.dateCell=Jt;s.cellDate=Kt;s.cellIsAllDay=Gt;s.allDayRow=tn;s.allDayBounds=en;s.getHoverListener=function(){return at};s.colContentLeft=Vt;s.colContentRight=$t;s.getDaySegmentContainer=function(){return _};s.getSlotSegmentContainer=function(){return j};s.getMinMinute=function(){return yt};s.getMaxMinute=function(){return wt};s.getBodyContent=function(){return B};s.getRowCnt=function(){return 1};s.getColCnt=function(){return nt};s.getColWidth=function(){return K};s.getSnapHeight=function(){return tt};s.getSnapMinutes=function(){return Y};s.defaultSelectionEnd=rn;s.renderDayOverlay=zt;s.renderSelection=sn;s.clearSelection=un;s.reportDayClick=fn;s.dragStart=ln;s.dragStop=cn;Et.call(s,n,r,i);Tt.call(s);xt.call(s);bt.call(s);var o=s.opt,u=s.trigger,a=s.clearEvents,f=s.renderOverlay,l=s.clearOverlays,c=s.reportSelection,h=s.unselect,p=s.daySelectionMousedown,d=s.slotSegHtml,v=r.formatDate,m,g,b,T,C,k,L,O,M,_,D,P,H,B,j,F,I,q,z,W,X,V,J,K,Q,G,Y,et,tt,nt,rt,it,at,ft,lt={},ct,ht,pt,dt,vt,mt,gt,yt,wt,St,kt,At,Ot;st(n.addClass("fc-agenda"));it=new Nt(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;b.each(function(t,o){r=e(o);i=r.offset().left;t&&(s[1]=i);s=[i];n[t]=s});s[1]=i+r.outerWidth();if(o("allDaySlot")){r=P;i=r.offset().top;t[0]=[i,i+r.outerHeight()]}var u=B.offset().top,a=H.offset().top,f=a+H.outerHeight();for(var c=0;c<rt*et;c++)t.push([l(u+tt*c),l(u+tt*(c+1))])});at=new Ct(it);ft=new Lt(function(e){return k.eq(e)})}function bt(){function J(e,t){a(e);var n,s=e.length,o=[],u=[];for(n=0;n<s;n++)e[n].allDay?o.push(e[n]):u.push(e[n]);if(r("allDaySlot")){T(Q(o),t);c()}Z(G(u),t);i("eventAfterAllRender")}function K(){f();h().empty();p().empty()}function Q(t){var r=I(F(t,e.map(t,P),n.visStart,n.visEnd)),i,s=r.length,o,u,a,f=[];for(i=0;i<s;i++){o=r[i];for(u=0;u<o.length;u++){a=o[u];a.row=0;a.level=i;f.push(a)}}return f}function G(t){var r=C(),i=g(),s=m(),o=w(S(n.visStart),i),u=e.map(t,Y),a,f,l,c,h,p,d=[];for(a=0;a<r;a++){f=I(F(t,u,o,w(S(o),s-i)));wt(f);for(l=0;l<f.length;l++){c=f[l];for(h=0;h<c.length;h++){p=c[h];p.col=a;p.level=l;d.push(p)}}y(o,1,!0)}return d}function Y(e){return e.end?S(e.end):w(S(e.start),r("defaultEventMinutes"))}function Z(n,s){var o,u=n.length,a,f,l,c,h,d,v,m,g,y,w,S,T="",N,k,L,A={},O={},_,D,P,H,B=p(),j,F,I,R=C();if(j=r("isRTL")){F=-1;I=R-1}else{F=1;I=0}for(o=0;o<u;o++){a=n[o];f=a.event;c=b(a.start,a.start);h=b(a.start,a.end);d=a.col;v=a.level;m=a.forward||0;g=E(d*F+I);y=x(d*F+I)-g;y=Math.min(y-6,y*.95);v?w=y/(v+m+1):m?w=(y/(m+1)-6)*2:w=y;S=g+y/(v+m+1)*v*F+(j?y-w:0);a.top=c;a.left=S;a.outerWidth=w;a.outerHeight=h-c;T+=et(f,a)}B[0].innerHTML=T;N=B.children();for(o=0;o<u;o++){a=n[o];f=a.event;k=e(N[o]);L=i("eventRender",f,f,k);if(L===!1)k.remove();else{if(L&&L!==!0){k.remove();k=e(L).css({position:"absolute",top:a.top,left:a.left}).appendTo(B)}a.element=k;f._id===s?nt(f,k,a):k[0]._fci=o;M(f,k)}}q(B,n,nt);for(o=0;o<u;o++){a=n[o];if(k=a.element){D=A[_=a.key=it(k[0])];a.vsides=D===t?A[_]=$(k,!0):D;D=O[_];a.hsides=D===t?O[_]=z(k,!0):D;P=k.find(".fc-event-title");P.length&&(a.contentTop=P[0].offsetTop)}}for(o=0;o<u;o++){a=n[o];if(k=a.element){k[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px";H=Math.max(0,a.outerHeight-a.vsides);k[0].style.height=H+"px";f=a.event;if(a.contentTop!==t&&H-a.contentTop<10){k.find("div.fc-event-time").text(X(f.start,r("timeFormat"))+" - "+f.title);k.find("div.fc-event-title").remove()}i("eventAfterRender",f,f,k)}}}function et(e,t){var n="<",i=e.url,u=at(e,r),a=["fc-event","fc-event-vert"];s(e)&&a.push("fc-event-draggable");t.isStart&&a.push("fc-event-start");t.isEnd&&a.push("fc-event-end");a=a.concat(e.className);e.source&&(a=a.concat(e.source.className||[]));i?n+="a href='"+rt(e.url)+"'":n+="div";n+=" class='"+a.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+u+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+rt(V(e.start,e.end,r("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+rt(e.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>";t.isEnd&&o(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>");n+="</"+(i?"a":"div")+">";return n}function tt(e,t,n){s(e)&&st(e,t,n.isStart);n.isEnd&&o(e)&&N(e,t,n);l(e,t)}function nt(e,t,n){var r=t.find("div.fc-event-time");s(e)&&ot(e,t,r);n.isEnd&&o(e)&&ut(e,t,r);l(e,t)}function st(e,t,n){function b(){if(!u){t.width(s).height("").draggable("option","grid",null);u=!0}}var s,o,u=!0,a,f=r("isRTL")?-1:1,l=d(),c=k(),h=L(),p=A(),m=g();t.draggable({zIndex:9,opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(d,m){i("eventDragStart",t,e,d,m);D(e,t);s=t.width();l.start(function(i,s,l,d){R();if(i){o=!1;a=d*f;if(!i.row){j(y(S(e.start),a),y(P(e),a));b()}else if(n){if(u){t.width(c-10);U(t,h*Math.round((e.end?(e.end-e.start)/v:r("defaultEventMinutes"))/p));t.draggable("option","grid",[c,1]);u=!1}}else o=!0;o=o||u&&!a}else{b();o=!0}t.draggable("option","revert",o)},d,"drag")},stop:function(n,r){l.stop();R();i("eventDragStop",t,e,n,r);if(o){b();t.css("filter","");_(e,t)}else{var s=0;u||(s=Math.round((t.offset().top-O().offset().top)/h)*p+m-(e.start.getHours()*60+e.start.getMinutes()));H(this,e,a,s,u,n,r)}}})}function ot(e,t,n){function g(t){var i=w(S(e.start),t),s;e.end&&(s=w(S(e.end),t));n.text(V(i,s,r("timeFormat")))}function b(){if(o){n.css("display","");t.draggable("option","grid",[p,v]);o=!1}}var s,o=!1,u,a,f,l=r("isRTL")?-1:1,c=d(),h=C(),p=k(),v=L(),m=A();t.draggable({zIndex:9,scroll:!1,grid:[p,v],axis:h==1?"y":!1,opacity:r("dragOpacity"
),revertDuration:r("dragRevertDuration"),start:function(h,p){i("eventDragStart",t,e,h,p);D(e,t);s=t.position();a=f=0;c.start(function(i,s,a,f){t.draggable("option","revert",!i);R();if(i){u=f*l;if(r("allDaySlot")&&!i.row){if(!o){o=!0;n.hide();t.draggable("option","grid",null)}j(y(S(e.start),u),y(P(e),u))}else b()}},h,"drag")},drag:function(e,t){a=Math.round((t.position.top-s.top)/v)*m;if(a!=f){o||g(a);f=a}},stop:function(n,r){var f=c.stop();R();i("eventDragStop",t,e,n,r);if(f&&(u||a||o))H(this,e,u,o?0:a,o,n,r);else{b();t.css("filter","");t.css(s);g(0);_(e,t)}}})}function ut(e,t,n){var s,o,a=L(),f=A();t.resizable({handles:{s:".ui-resizable-handle"},grid:a,start:function(n,r){s=o=0;D(e,t);t.css("z-index",9);i("eventResizeStart",this,e,n,r)},resize:function(i,l){s=Math.round((Math.max(a,t.height())-l.originalSize.height)/a);if(s!=o){n.text(V(e.start,!s&&!e.end?null:w(u(e),f*s),r("timeFormat")));o=s}},stop:function(n,r){i("eventResizeStop",this,e,n,r);if(s)B(this,e,0,f*s,n,r);else{t.css("z-index",8);_(e,t)}}})}var n=this;n.renderEvents=J;n.compileDaySegs=Q;n.clearEvents=K;n.slotSegHtml=et;n.bindDaySeg=tt;St.call(n);var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.reportEvents,f=n.reportEventClear,l=n.eventElementHandlers,c=n.setHeight,h=n.getDaySegmentContainer,p=n.getSlotSegmentContainer,d=n.getHoverListener,m=n.getMaxMinute,g=n.getMinMinute,b=n.timePosition,E=n.colContentLeft,x=n.colContentRight,T=n.renderDaySegs,N=n.resizableDayEvent,C=n.getColCnt,k=n.getColWidth,L=n.getSnapHeight,A=n.getSnapMinutes,O=n.getBodyContent,M=n.reportEventElement,_=n.showEvents,D=n.hideEvents,H=n.eventDrop,B=n.eventResize,j=n.renderDayOverlay,R=n.clearOverlays,W=n.calendar,X=W.formatDate,V=W.formatDates}function wt(e){var t,n,r,i,s,o;for(t=e.length-1;t>0;t--){i=e[t];for(n=0;n<i.length;n++){s=i[n];for(r=0;r<e[t-1].length;r++){o=e[t-1][r];j(s,o)&&(o.forward=Math.max(o.forward||0,(s.forward||0)+1))}}}}function Et(e,n,r){function h(e,t){var n=c[e];return typeof n=="object"?nt(n,t||r):n}function p(e,t){return n.trigger.apply(n,[e,t||i].concat(Array.prototype.slice.call(arguments,2),[i]))}function d(e){return m(e)&&!h("disableDragging")}function v(e){return m(e)&&!h("disableResizing")}function m(e){return lt(e.editable,(e.source||{}).editable,h("editable"))}function g(e){a={};var t,n=e.length,r;for(t=0;t<n;t++){r=e[t];a[r._id]?a[r._id].push(r):a[r._id]=[r]}}function b(e){return e.end?S(e.end):s(e)}function E(e,t){f.push(t);l[e._id]?l[e._id].push(t):l[e._id]=[t]}function x(){f=[];l={}}function T(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return p("eventClick",this,e,n)}).hover(function(t){p("eventMouseover",this,e,t)},function(t){p("eventMouseout",this,e,t)})}function N(e,t){k(e,t,"show")}function C(e,t){k(e,t,"hide")}function k(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function L(e,t,n,r,i,s,o){var f=t.allDay,l=t._id;O(a[l],n,r,i);p("eventDrop",e,t,n,r,i,function(){O(a[l],-n,-r,f);u(l)},s,o);u(l)}function A(e,t,n,r,i,s){var o=t._id;M(a[o],n,r);p("eventResize",e,t,n,r,function(){M(a[o],-n,-r);u(o)},i,s);u(o)}function O(e,n,r,i){r=r||0;for(var s,u=e.length,a=0;a<u;a++){s=e[a];i!==t&&(s.allDay=i);w(y(s.start,n,!0),r);s.end&&(s.end=w(y(s.end,n,!0),r));o(s,c)}}function M(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++){r=e[s];r.end=w(y(b(r),t,!0),n);o(r,c)}}var i=this;i.element=e;i.calendar=n;i.name=r;i.opt=h;i.trigger=p;i.isEventDraggable=d;i.isEventResizable=v;i.reportEvents=g;i.eventEnd=b;i.reportEventElement=E;i.reportEventClear=x;i.eventElementHandlers=T;i.showEvents=N;i.hideEvents=C;i.eventDrop=L;i.eventResize=A;var s=i.defaultEventEnd,o=n.normalizeEvent,u=n.reportEventChange,a={},f=[],l={},c=n.options}function St(){function O(e,t){var n=T(),r,i=h(),s=p(),o=0,u,a,f,l,c=e.length,d,v,m;n[0].innerHTML=_(e);D(e,n.children());P(e);H(e,n,t);B(e);j(e);F(e);r=I();for(u=0;u<i;u++){a=0;f=[];for(l=0;l<s;l++)f[l]=0;while(o<c&&(d=e[o]).row==u){v=et(f.slice(d.startCol,d.endCol));d.top=v;v+=d.outerHeight;for(m=d.startCol;m<d.endCol;m++)f[m]=v;o++}r[u].height(et(f))}U(e,R(r))}function M(t,n,r){var i=e("<div/>"),s,o=T(),u,a=t.length,f;i[0].innerHTML=_(t);s=i.children();o.append(s);D(t,s);B(t);j(t);F(t);U(t,R(I()));s=[];for(u=0;u<a;u++){f=t[u].element;if(f){t[u].row===n&&f.css("top",r);s.push(f[0])}}return e(s)}function _(e){var t=r("isRTL"),n,i=e.length,u,a,f,l,c=m(),h=c.left,p=c.right,d,v,y,E,S,x="";for(n=0;n<i;n++){u=e[n];a=u.event;l=["fc-event","fc-event-hori"];s(a)&&l.push("fc-event-draggable");u.isStart&&l.push("fc-event-start");u.isEnd&&l.push("fc-event-end");if(t){d=w(u.end.getDay()-1);v=w(u.start.getDay());y=u.isEnd?g(d):h;E=u.isStart?b(v):p}else{d=w(u.start.getDay());v=w(u.end.getDay()-1);y=u.isStart?g(d):h;E=u.isEnd?b(v):p}l=l.concat(a.className);a.source&&(l=l.concat(a.source.className||[]));f=a.url;S=at(a,r);f?x+="<a href='"+rt(f)+"'":x+="<div";x+=" class='"+l.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+y+"px;"+S+"'"+">"+"<div class='fc-event-inner'>";!a.allDay&&u.isStart&&(x+="<span class='fc-event-time'>"+rt(C(a.start,a.end,r("timeFormat")))+"</span>");x+="<span class='fc-event-title'>"+rt(a.title)+"</span>"+"</div>";u.isEnd&&o(a)&&(x+="<div class='ui-resizable-handle ui-resizable-"+(t?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>");x+="</"+(f?"a":"div")+">";u.left=y;u.outerWidth=E-y;u.startCol=d;u.endCol=v+1}return x}function D(t,n){var r,s=t.length,o,u,a,f;for(r=0;r<s;r++){o=t[r];u=o.event;a=e(n[r]);f=i("eventRender",u,u,a);if(f===!1)a.remove();else{if(f&&f!==!0){f=e(f).css({position:"absolute",left:o.left});a.replaceWith(f);a=f}o.element=a}}}function P(e){var t,n=e.length,r,i;for(t=0;t<n;t++){r=e[t];i=r.element;i&&a(r.event,i)}}function H(e,t,n){var r,i=e.length,s,o,u;for(r=0;r<i;r++){s=e[r];o=s.element;if(o){u=s.event;u._id===n?N(u,o,s):o[0]._fci=r}}q(t,e,N)}function B(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++){i=e[n];s=i.element;if(s){o=i.key=it(s[0]);u=a[o];u===t&&(u=a[o]=z(s,!0));i.hsides=u}}}function j(e){var t,n=e.length,r,i;for(t=0;t<n;t++){r=e[t];i=r.element;i&&(i[0].style.width=Math.max(0,r.outerWidth-r.hsides)+"px")}}function F(e){var n,r=e.length,i,s,o,u,a={};for(n=0;n<r;n++){i=e[n];s=i.element;if(s){o=i.key;u=a[o];u===t&&(u=a[o]=K(s));i.outerHeight=s[0].offsetHeight+u}}}function I(){var e,t=h(),n=[];for(e=0;e<t;e++)n[e]=v(e).find("div.fc-day-content > div");return n}function R(e){var t,n=e.length,r=[];for(t=0;t<n;t++)r[t]=e[t][0].offsetTop;return r}function U(e,t){var n,r=e.length,s,o,u;for(n=0;n<r;n++){s=e[n];o=s.element;if(o){o[0].style.top=t[s.row]+(s.top||0)+"px";u=s.event;i("eventAfterRender",u,u,o)}}}function W(t,s,o){var a=r("isRTL"),d=a?"w":"e",v=s.find(".ui-resizable-"+d),m=!1;st(s);s.mousedown(function(e){e.preventDefault()}).click(function(e){if(m){e.preventDefault();e.stopImmediatePropagation()}});v.mousedown(function(r){function P(n){i("eventResizeStop",this,t,n);e("body").css("cursor","");v.stop();L();C&&c(this,t,C,0,n);setTimeout(function(){m=!1},0)}if(r.which!=1)return;m=!0;var v=n.getHoverListener(),g=h(),b=p(),w=a?-1:1,T=a?b-1:0,N=s.css("top"),C,O,_=e.extend({},t),D=E(t.start);A();e("body").css("cursor",d+"-resize").one("mouseup",P);i("eventResizeStart",this,t,r);v.start(function(e,n){if(e){var r=Math.max(D.row,e.row),i=e.col;g==1&&(r=0);r==D.row&&(a?i=Math.min(D.col,i):i=Math.max(D.col,i));C=r*7+i*w+T-(n.row*7+n.col*w+T);var s=y(u(t),C,!0);if(C){_.end=s;var c=O;O=M(x([_]),o.row,N);O.find("*").css("cursor",d+"-resize");c&&c.remove();l(t)}else if(O){f(t);O.remove();O=null}L();k(t.start,y(S(s),1))}},r)})}var n=this;n.renderDaySegs=O;n.resizableDayEvent=W;var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.reportEventElement,f=n.showEvents,l=n.hideEvents,c=n.eventResize,h=n.getRowCnt,p=n.getColCnt,d=n.getColWidth,v=n.allDayRow,m=n.allDayBounds,g=n.colContentLeft,b=n.colContentRight,w=n.dayOfWeekCol,E=n.dateCell,x=n.compileDaySegs,T=n.getDaySegmentContainer,N=n.bindDaySeg,C=n.calendar.formatDates,k=n.renderDayOverlay,L=n.clearOverlays,A=n.clearSelection}function xt(){function a(e,t,n){f();t||(t=i(e,n));s(e,t,n);l(e,t,n)}function f(e){if(u){u=!1;o();r("unselect",null,e)}}function l(e,t,n,i){u=!0;r("select",null,e,t,n,i)}function c(r){var i=t.cellDate,u=t.cellIsAllDay,a=t.getHoverListener(),c=t.reportDayClick;if(r.which==1&&n("selectable")){f(r);var h=this,p;a.start(function(e,t){o();if(e&&u(e)){p=[i(t),i(e)].sort(Z);s(p[0],p[1],!0)}else p=null},r);e(document).one("mouseup",function(e){a.stop();if(p){+p[0]==+p[1]&&c(p[0],!0,e);l(p[0],p[1],!0,e)}})}}var t=this;t.select=a;t.unselect=f;t.reportSelection=l;t.daySelectionMousedown=c;var n=t.opt,r=t.trigger,i=t.defaultSelectionEnd,s=t.renderSelection,o=t.clearSelection,u=!1;n("selectable")&&n("unselectAuto")&&e(document).mousedown(function(t){var r=n("unselectCancel");if(r&&e(t.target).parents(r).length)return;f(t)})}function Tt(){function i(t,i){var s=r.shift();s||(s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));s[0].parentNode!=i[0]&&s.appendTo(i);n.push(s.css(t).show());return s}function s(){var e;while(e=n.shift())r.push(e.hide().unbind())}var t=this;t.renderOverlay=i;t.clearOverlays=s;var n=[],r=[]}function Nt(e){var t=this,n,r;t.build=function(){n=[];r=[];e(n,r)};t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null};t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function Ct(t){function u(e){kt(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col)){if(n){s||(s=n);i(n,s,n.row-s.row,n.col-s.col)}else i(n,s);o=n}}var n=this,r,i,s,o;n.start=function(n,a,f){i=n;s=o=null;t.build();u(a);r=f||"mousemove";e(document).bind(r,u)};n.stop=function(){e(document).unbind(r,u);return o}}function kt(e){if(e.pageX===t){e.pageX=e.originalEvent.pageX;e.pageY=e.originalEvent.pageY}}function Lt(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]};n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]};n.clear=function(){r={};i={};s={}}}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},i=e.fullCalendar={version:"1.6.1"},s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1),o;this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);o===t&&(o=r);i=="destroy"&&e.removeData(this,"fullCalendar")}});return o!==t?o:this}var a=i.eventSources||[];delete i.eventSources;if(i.events){a.push(i.events);delete i.events}i=e.extend(!0,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i);this.each(function(t,n){var r=e(n),s=new u(r,i,a);r.data("fullCalendar",s);s.render()});return this};i.sourceNormalizers=[];i.sourceFetchers=[];var f={dataType:"json",cache:!1},l=1;i.addDays=y;i.cloneDate=S;i.parseDate=k;i.parseISO8601=L;i.parseTime=A;i.formatDate=O;i.formatDates=M;var h=["sun","mon","tue","wed","thu","fri","sat"],p=864e5,d=36e5,v=6e4,_={s:function(e){return e.getSeconds()},ss:function(e){return tt(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return tt(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return tt(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return tt(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return tt(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return tt(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return O(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return D(e)}};i.dateFormatters=_;i.applyAll=ft;s.month=ct;s.basicWeek=ht;s.basicDay=pt;o({weekMode:"fixed"});s.agendaWeek=mt;s.agendaDay=gt;o({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);(function(e){function o(t,o,u){var a=t.success,f=e.extend({},t.data||{},{"start-min":n(o,"u"),"start-max":n(u,"u"),singleevents:!0,"max-results":9999}),l=t.currentTimezone;l&&(f.ctz=l=l.replace(" ","_"));return e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:f,startParam:!1,endParam:!1,success:function(t){var n=[];t.feed.entry&&e.each(t.feed.entry,function(t,s){var o=s.gd$when[0].startTime,u=r(o,!0),a=r(s.gd$when[0].endTime,!0),f=o.indexOf("T")==-1,c;e.each(s.link,function(e,t){if(t.type=="text/html"){c=t.href;l&&(c+=(c.indexOf("?")==-1?"?":"&")+"ctz="+l)}});f&&i(a,-1);n.push({id:s.gCal$uid.value,title:s.title.$t,url:c,start:u,end:a,allDay:f,location:s.gd$where[0].valueString,description:s.content.$t})});var o=[n].concat(Array.prototype.slice.call(arguments,1)),u=s(a,this,o);return e.isArray(u)?u:n}})}var t=e.fullCalendar,n=t.formatDate,r=t.parseISO8601,i=t.addDays,s=t.applyAll;t.sourceNormalizers.push(function(e){if(e.dataType=="gcal"||e.dataType===undefined&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//)){e.dataType="gcal";e.editable===undefined&&(e.editable=!1)}});t.sourceFetchers.push(function(e,t,n){if(e.dataType=="gcal")return o(e,t,n)});t.gcalFeed=function(t,n){return e.extend({},n,{url:t,dataType:"gcal"})}})(jQuery);$(document).ready(function(){var e=$(".calendar-widget"),t=$(".calendar-widget-event-pane"),n=t.children("div"),r=t.children("a");r.click(function(){n.empty();t.hide();return!1});e.each(function(){var e=$(this);e.fullCalendar({dayNamesShort:["S","M","T","W","T","F","S"],events:e.data("events"),eventRender:function(t,n,r){var i=t.start.getDate()+(r.start.getDay()-1),s=$.fullCalendar.formatDate(t.start,"yyyy-MM-dd");t.start>=r.visStart&&t.end<r.visEnd&&t.start.getMonth()==r.start.getMonth()&&e.find("[data-date="+s+"]").addClass("event-today")},dayClick:function(r,i,s,o){var u=e.fullCalendar("clientEvents"),a=jQuery.grep(u,function(e,t){return e.start.getDate()==r.getDate()&&e.start.getMonth()==r.getMonth()});$.each(a.reverse(),function(){var e=this.title+(this.allDay?" (All Day)":""),r=this.allDay?"":$.fullCalendar.formatDate(this.start,"h:mm tt"),i=this.location?"Location: "+this.location:"";n.append('<div class="calendar-event"><span class="title">'+e+"</span>"+'<span class="time">'+r+"</span>"+'<span class="location">'+i+"</span>"+"</div>");t.fadeIn()})},viewDisplay:function(e){e.name=="month"&&n.html("")},eventClick:function(e){window.open(e.url,"gcalevent","width=700,height=600");return!1},loading:function(e){e?$("#loading").show():$("#loading").hide()}})})});$(document).ready(function(){if($("#youtubeapi").length<1)return;var e=$(this),t=$("#vidContent"),n=$("#youtube-playlist-player");t.empty();if(!e.is(":visible"))return;if(swfobject.getFlashPlayerVersion().major<11){var r='<div class="alert alert-error"><strong>You need to upgrade your Adoble Flash Player to watch the UW Today videos.</strong><br/><a href="http://get.adobe.com/flashplayer/" title="Flash player upgrade">Download it here from Adobe.</a></div>';n.html(r);return}var i=$("#youtube-player-controls"),s={allowScriptAccess:"always",wmode:"transparent"},o={id:"customplayer"},u="//ajax.googleapis.com/ajax/services/feed/load?",a=$("#youtubeapi").data("pid"),f=jQuery.param({enablejsapi:1,playerapiid:"uwplayer",version:3,controls:1,autoplay:0,rel:0,modestbranding:1,theme:"light"});i.tinyscrollbar();$.getJSON("//gdata.youtube.com/feeds/api/playlists/"+a+"/?callback=?",{alt:"json",v:"2"},function(e){var n=e.feed.entry[0].media$group.yt$videoid.$t,r=e.feed.entry.length;swfobject.embedSWF("//www.youtube.com/v/"+n+"?"+f,"youtubeapi","425","356","8",null,null,s,o);t.append("<ul/>");$.each(e.feed.entry,function(e,n){var s=n.media$group.media$thumbnail[0],o=n.media$group.yt$videoid.$t,u=n.title.$t,a=n.media$group.yt$duration.seconds,f=Math.floor(a/60),l=String(a%60).length===1?"0"+a%60:a%60,c='<li><a id="'+o+'" class="video" href="#">'+'<img class="playBtn" src="/news/wp-content/themes/news/img/play.png" />'+'<img src="'+s.url.replace(/https?:\/\//,"//")+'" width="'+s.width+'" height="'+s.height+'" />'+'<span class="title">'+u+"</span>"+'<span class="duration">'+f+":"+l+"</span>"+"</a></li>";t.children("ul").append(c).imagesLoaded(function(){i.tinyscrollbar_update()});if(--r==0){i.find(".scrollbar").show();t.height("+=100")}})});n.delegate("a.video","click",function(e){e.preventDefault();play(this.id);return!1});i.one("mouseenter",function(){$(this).tinyscrollbar_update()})});